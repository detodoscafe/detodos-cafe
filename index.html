<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>De Todos Caf√© - Men√∫ Digital & Pedidos</title>

  <meta name="description" content="Men√∫ digital de De Todos Caf√©. Pedidos por WhatsApp: Caf√©, limonadas granizadas, sodas, granizados y combos. Delivery disponible.">
  <meta name="keywords" content="caf√©, men√∫ digital, pedidos WhatsApp, limonadas, granizados, delivery, comida r√°pida, bebidas">
  <meta name="author" content="De Todos Caf√©">

  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚òï</text></svg>">

  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet"/>

  <style>
    :root{
      --cafe-oscuro:#3b1f0f; --cafe-medio:#8B4513; --cafe-claro:#D2691E;
      --whatsapp:#25D366; --texto:#2C1810; --acento:#FF6B35; --border:#E8D9C5;
      --bg:#faf7f2; --rojo-temu:#ff3b30; --verde-temu:#34c759; --naranja-temu:#ff9500;
      --azul-busqueda:#3b82f6;

      --shadow-1: 0 2px 8px rgba(0,0,0,0.06);
      --shadow-2: 0 6px 16px rgba(0,0,0,0.12);
      --radius-1: 12px;
      --radius-2: 15px;
    }
    *{margin:0;padding:0;box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      font-family:'Inter','Segoe UI',sans-serif;
      background:linear-gradient(135deg,#f7f3ef 0%,#f0e6d6 100%);
      color:var(--texto); line-height:1.6; min-height:100vh;
      padding-bottom:110px; /* espacio para bot√≥n flotante */
    }
    a{color:inherit}

    .header{
      background:linear-gradient(to right,var(--cafe-oscuro),var(--cafe-medio));
      color:#fff; text-align:center; padding:1.1rem 1rem;
      position:sticky; top:0; z-index:1000;
      box-shadow:0 4px 12px rgba(59,31,15,.2);
    }
    .logo{
      font-family:'Poppins',sans-serif; font-size:1.8rem; font-weight:700;
      display:flex; align-items:center; justify-content:center; gap:0.8rem;
      margin-bottom:0.25rem;
    }
    .logo i{color:var(--cafe-claro)}
    .subtitle{font-size:0.9rem;opacity:.92}

    /* ===== BARRA DE B√öSQUEDA ===== */
    .busqueda-container {
      max-width: 700px;
      margin: 1.2rem auto 0.5rem;
      padding: 0 1rem;
      position: relative;
    }
    .busqueda-wrapper {
      position: relative;
      display: flex;
      align-items: center;
      background: rgba(255, 255, 255, 0.15);
      border-radius: 50px;
      padding: 0.6rem 1rem;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
    }
    .busqueda-wrapper:focus-within {
      background: rgba(255, 255, 255, 0.25);
      border-color: rgba(255, 255, 255, 0.4);
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    .busqueda-wrapper i {
      color: #fff;
      font-size: 1.1rem;
      margin-right: 0.8rem;
      opacity: 0.9;
    }
    #busquedaInput {
      flex: 1;
      border: none;
      outline: none;
      background: transparent;
      color: #fff;
      font-family: 'Inter', sans-serif;
      font-size: 1rem;
      font-weight: 500;
    }
    #busquedaInput::placeholder {
      color: rgba(255, 255, 255, 0.7);
    }
    #limpiarBusqueda {
      background: transparent;
      border: none;
      color: rgba(255, 255, 255, 0.7);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0.4rem;
      border-radius: 50%;
      transition: all 0.2s;
      opacity: 0;
      visibility: hidden;
    }
    #limpiarBusqueda.visible {
      opacity: 1;
      visibility: visible;
    }
    #limpiarBusqueda:hover {
      color: #fff;
      background: rgba(255, 255, 255, 0.15);
    }
    #contadorResultados {
      text-align: center;
      font-size: 0.85rem;
      color: rgba(255, 255, 255, 0.9);
      margin-top: 0.5rem;
      font-weight: 600;
      min-height: 1.2rem;
    }

    .container{
      max-width:1400px; margin:0 auto; padding:1.5rem 1rem;
    }

    /* ===== MEN√ö CATEGOR√çAS (ESCRITORIO) ===== */
    .menu-categorias{
      position: fixed;
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
      background: #fff;
      border-radius: var(--radius-2);
      box-shadow: var(--shadow-2);
      padding: 1rem;
      z-index: 900;
      display: none; /* se muestra solo en desktop */
      flex-direction: column;
      gap: 0.5rem;
      max-height: 70vh;
      overflow-y: auto;
      width: 210px;
      border: 1px solid #eee;
    }
    @media(min-width:1024px){
      .menu-categorias{display:flex;}
      .container{margin-left: 250px;}
    }
    .categoria-btn{
      background: transparent;
      border: none;
      padding: 0.8rem 1rem;
      border-radius: 12px;
      text-align: left;
      cursor: pointer;
      transition: transform .15s ease, background .2s ease, color .2s ease;
      font-weight: 800;
      color: var(--texto);
      display: flex;
      align-items: center;
      gap: 0.8rem;
      font-size: 0.92rem;
      outline: none;
    }
    .categoria-btn:hover{transform: translateY(-1px)}
    .categoria-btn:focus-visible{outline: 3px solid rgba(255,107,53,.35)}
    .categoria-btn.activa{
      background: linear-gradient(to right, var(--cafe-claro), var(--cafe-medio));
      color: #fff;
    }
    .categoria-btn i{width: 20px; text-align:center}

    /* ===== BOT√ìN CATEGOR√çAS M√ìVIL ===== */
    .btn-categorias-movil{
      position: fixed;
      bottom: 95px;
      left: 18px;
      background: linear-gradient(to right, var(--cafe-medio), var(--cafe-claro));
      color: #fff;
      border: none;
      width: 52px;
      height: 52px;
      border-radius: 50%;
      display: none;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      cursor: pointer;
      z-index: 999;
      box-shadow: 0 4px 15px rgba(139,69,19,0.3);
    }
    @media(max-width:1023px){ .btn-categorias-movil{display:flex;} }
    .btn-categorias-movil:focus-visible{outline: 3px solid rgba(255,107,53,.35)}

    .menu-categorias-movil{
      position: fixed;
      bottom: 160px;
      left: 18px;
      background: #fff;
      border-radius: var(--radius-2);
      box-shadow: 0 5px 25px rgba(0,0,0,0.2);
      padding: 1rem;
      z-index: 998;
      display: none;
      flex-direction: column;
      gap: 0.5rem;
      max-height: 320px;
      overflow-y: auto;
      width: 260px;
      border: 1px solid #eee;
    }
    .menu-categorias-movil.abierto{display:flex; animation: slideUp .25s ease;}
    @keyframes slideUp{
      from{opacity:0; transform: translateY(12px)}
      to{opacity:1; transform: translateY(0)}
    }

    /* ===== CONTENIDO DE CATEGOR√çAS ===== */
    .categoria-contenido{display:none; animation: fadeIn .25s ease;}
    .categoria-contenido.activa{display:block;}
    @keyframes fadeIn{
      from{opacity:0; transform: translateY(10px)}
      to{opacity:1; transform: translateY(0)}
    }

    /* ===== SECCI√ìN DE RESULTADOS DE B√öSQUEDA ===== */
    .seccion-resultados {
      display: none;
    }
    .seccion-resultados.activa {
      display: block;
      animation: fadeIn 0.25s ease;
    }
    .titulo-resultados {
      font-family: 'Poppins', sans-serif;
      font-size: 1.5rem;
      color: var(--cafe-oscuro);
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.8rem;
    }
    .titulo-resultados i {
      color: var(--azul-busqueda);
    }
    .resultados-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
    }
    @media(min-width:768px){.resultados-grid{grid-template-columns:repeat(3, 1fr)}}
    @media(min-width:1024px){.resultados-grid{grid-template-columns:repeat(4, 1fr)}}
    .resultado-item {
      background: #fff;
      border-radius: var(--radius-1);
      padding: 1rem;
      border: 2px solid var(--azul-busqueda);
      transition: transform .2s ease, box-shadow .2s ease;
      display: flex;
      flex-direction: column;
      height: 100%;
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);
    }
    .resultado-item:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 20px rgba(59, 130, 246, 0.15);
      border-color: rgba(59, 130, 246, 0.6);
    }
    .badge-categoria {
      position: absolute;
      top: 10px;
      left: 10px;
      background: var(--azul-busqueda);
      color: #fff;
      font-size: 0.7rem;
      font-weight: 900;
      padding: 0.2rem 0.55rem;
      border-radius: 999px;
      letter-spacing: 0.2px;
      z-index: 2;
    }
    .sin-resultados {
      grid-column: 1 / -1;
      text-align: center;
      padding: 3rem 1rem;
      color: #666;
    }
    .sin-resultados i {
      font-size: 3rem;
      margin-bottom: 1rem;
      opacity: 0.3;
    }
    .sin-resultados h3 {
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
      color: #777;
    }

    /* ===== GRID PRODUCTOS ===== */
    .grid-productos{display:grid; grid-template-columns:repeat(2, 1fr); gap:1rem;}
    @media(min-width:768px){.grid-productos{grid-template-columns:repeat(3, 1fr)}}
    @media(min-width:1024px){.grid-productos{grid-template-columns:repeat(4, 1fr)}}

    .producto-temu{
      background:#fff; border-radius:var(--radius-1); padding:1rem;
      border:1px solid #eee; transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
      display:flex; flex-direction:column; height:100%;
      position:relative; overflow:hidden;
      box-shadow: var(--shadow-1);
    }
    .producto-temu:hover{
      transform: translateY(-3px);
      box-shadow: var(--shadow-2);
      border-color: rgba(210,105,30,.55);
    }

    .img-placeholder-temu{
      width:100%; height:140px;
      background: linear-gradient(135deg, #f5f5f5, #e0e0e0);
      border-radius: 10px;
      display:flex; align-items:center; justify-content:center;
      margin-bottom:.8rem; overflow:hidden;
      border:1px solid #eee;
    }
    .img-placeholder-temu i{font-size:2.4rem; color: var(--cafe-medio); opacity:.55;}

    .nombre-producto-temu{
      font-weight:900;font-size:.95rem;margin-bottom:.3rem;color:var(--cafe-oscuro);
      min-height:2.2rem; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
      line-height:1.28;
    }
    .descripcion-corta-temu{
      font-size:.8rem; color:#666; margin-bottom:.5rem;
      display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
      line-height:1.3;
    }
    .rating-temu{display:flex; align-items:center; gap:.2rem; margin:.3rem 0;}
    .rating-temu i{color:#ffc107; font-size:.8rem;}
    .rating-temu span{font-size:.8rem; color:#666; margin-left:.3rem;}

    .precio-temu{font-weight:900;font-size:1.25rem;color:var(--rojo-temu);margin:.5rem 0 .3rem 0;}
    .precio-original-temu{font-size:.85rem; color:#999; text-decoration:line-through; margin-right:.3rem;}

    .btn-agregar-temu{
      width:100%;
      background: linear-gradient(to right,var(--rojo-temu),var(--naranja-temu));
      color:#fff; border:none; padding:.75rem;
      border-radius: 12px;
      font-weight:900; font-size:.92rem;
      cursor:pointer;
      display:flex; align-items:center; justify-content:center; gap:.55rem;
      transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
      margin-top:auto;
    }
    .btn-agregar-temu:hover{transform: translateY(-1px); box-shadow: 0 6px 16px rgba(255,59,48,0.25);}
    .btn-agregar-temu:active{transform: translateY(0)}
    .btn-agregar-temu:focus-visible{outline: 3px solid rgba(255,149,0,.35)}

    /* ===== FOOTER ===== */
    .footer{
      background:linear-gradient(to right,var(--cafe-oscuro),var(--cafe-medio));
      color:#fff;padding:1.5rem 1rem;margin-top:2.5rem;
    }
    .contenido-footer{max-width:1200px;margin:0 auto;text-align:center}
    .contacto{font-size:1rem;margin-bottom:.6rem;font-weight:900}
    .dirlocal{opacity:.9;margin-bottom:.6rem;font-size:0.9rem}
    .horario{font-style:italic;margin-bottom:0.9rem;opacity:.9;font-size:0.9rem}
    .creditos{font-size:0.85rem;opacity:.8;margin-top:0.9rem}

    @media(max-width:768px){
      .logo{font-size:1.4rem}
      .container{padding:1rem; margin-left: 0;}
      .busqueda-container {padding: 0 0.5rem; margin: 1rem auto 0.5rem;}
    }
    @media(max-width:480px){
      .grid-productos{grid-template-columns:1fr}
      .resultados-grid{grid-template-columns:1fr}
      .producto-temu{padding:0.85rem}
    }

    /* Scrollbars (solo webkit) */
    .menu-categorias::-webkit-scrollbar,
    .menu-categorias-movil::-webkit-scrollbar{width:6px;}
    .menu-categorias::-webkit-scrollbar-track,
    .menu-categorias-movil::-webkit-scrollbar-track{background:#f1f1f1; border-radius: 6px;}
    .menu-categorias::-webkit-scrollbar-thumb,
    .menu-categorias-movil::-webkit-scrollbar-thumb{background: rgba(255,59,48,.75); border-radius: 6px;}
  </style>

  <!-- ===== ESTILOS DEL CARRITO NUEVO ===== -->
  <style>
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes slideUpCart { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes slideInToast { from { opacity: 0; transform: translateX(100px); } to { opacity: 1; transform: translateX(0); } }

    .carrito-flotante-btn{
      position: fixed;
      bottom: 26px;
      right: 22px;
      background: linear-gradient(135deg, #FF6B35, #FF9500);
      color: white;
      border: none;
      border-radius: 50px;
      padding: 14px 22px;
      font-size: 1.05rem;
      font-weight: 800;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 12px;
      box-shadow: 0 8px 25px rgba(255, 107, 53, 0.30);
      z-index: 1000;
      transition: all 0.25s ease;
      font-family: 'Poppins', sans-serif;
    }
    .carrito-flotante-btn:hover{ transform: translateY(-5px); box-shadow: 0 12px 30px rgba(255, 107, 53, 0.40); }
    .carrito-flotante-btn .badge{
      background-color: white;
      color: #FF6B35;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 900;
      font-size: 0.9rem;
    }

    .carrito-overlay{
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.70);
      z-index: 9999;
      display: none;
      justify-content: center;
      align-items: center;
      padding: 20px;
      backdrop-filter: blur(4px);
    }
    .carrito-overlay.activo{ display:flex; animation: fadeIn 0.25s ease; }

    .carrito-contenedor{
      width: 100%;
      max-width: 820px;
      max-height: 90vh;
      background-color: white;
      border-radius: 20px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      box-shadow: 0 15px 50px rgba(0, 0, 0, 0.20);
      animation: slideUpCart 0.35s ease;
      outline: none;
    }

    .carrito-cabecera{
      background: linear-gradient(135deg, #3b1f0f, #8B4513);
      color: white;
      padding: 22px 28px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }
    .carrito-cabecera h2{
      font-family: 'Poppins', sans-serif;
      font-size: 1.4rem;
      font-weight: 800;
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 0;
    }
    .carrito-cabecera h2 .badge{
      background: #fff;
      color: #FF6B35;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-weight: 900;
      font-size: 0.9rem;
    }
    .carrito-cabecera .cerrar-btn{
      background: rgba(255, 255, 255, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.30);
      color: white;
      border-radius: 10px;
      padding: 10px 14px;
      font-size: 0.95rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s;
      font-weight: 800;
    }
    .carrito-cabecera .cerrar-btn:hover{ background: rgba(255, 255, 255, 0.25); }

    .carrito-contenido{
      flex: 1;
      overflow-y: auto;
      padding: 26px;
      display: flex;
      flex-direction: column;
      gap: 22px;
      background: #fff;
    }

    .carrito-seccion{
      background-color: #f9f9f9;
      border-radius: 16px;
      padding: 20px;
      border: 1px solid #eee;
    }
    .carrito-seccion h3{
      font-family: 'Poppins', sans-serif;
      font-size: 1.15rem;
      margin-bottom: 14px;
      color: #3b1f0f;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .carrito-lista{ display:flex; flex-direction:column; gap: 14px; }
    .carrito-item{
      display:flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 14px;
      padding: 16px;
      background-color: #fff;
      border-radius: 12px;
      border: 1px solid #eaeaea;
    }
    .item-info{ flex: 1; }
    .item-nombre{ font-weight: 900; font-size: 1.02rem; margin-bottom: 6px; color: #333; }
    .item-precio-unitario{ color: #666; font-size: 0.92rem; font-weight: 700; }

    .item-cantidad{ display:flex; align-items:center; gap: 10px; margin-top: 10px; }
    .cantidad-btn{
      width: 32px; height: 32px;
      border-radius: 8px;
      border: 1px solid #ddd;
      background-color: #fff;
      color: #555;
      font-weight: 900;
      font-size: 1.1rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    .cantidad-btn:hover{ border-color: #FF6B35; background-color: #fff9f7; }
    .cantidad-numero{ min-width: 34px; text-align:center; font-weight: 900; font-size: 1.05rem; }

    .item-total{
      font-weight: 900;
      font-size: 1.1rem;
      color: #FF6B35;
      min-width: 92px;
      text-align: right;
      white-space: nowrap;
    }

    .item-eliminar{
      background-color: #ffeaea;
      border: 1px solid #ffcccc;
      color: #ff4444;
      border-radius: 8px;
      padding: 7px 10px;
      font-size: 0.85rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      margin-top: 10px;
      font-weight: 900;
    }
    .item-eliminar:hover{ background-color: #ffdede; }

    .datos-pedido{ display:grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    @media (max-width: 768px){ .datos-pedido{ grid-template-columns: 1fr; } }

    .campo-grupo{ display:flex; flex-direction:column; gap: 8px; }
    .campo-grupo label{
      font-weight: 800;
      color: #555;
      font-size: 0.95rem;
      display:flex;
      align-items:center;
      gap: 8px;
    }
    .campo-grupo select, .campo-grupo input{
      padding: 12px 14px;
      border: 1px solid #ddd;
      border-radius: 10px;
      font-family: 'Inter', sans-serif;
      font-size: 1rem;
      background-color: #fff;
      transition: border 0.2s;
    }
    .campo-grupo select:focus, .campo-grupo input:focus{
      outline: none;
      border-color: #FF6B35;
      box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.10);
    }

    .opciones-tipo{ display:flex; gap: 12px; margin-top: 6px; flex-wrap: wrap; }
    .opcion-tipo{
      flex: 1;
      min-width: 140px;
      display:flex;
      flex-direction:column;
      align-items:center;
      padding: 12px 10px;
      border-radius: 10px;
      border: 2px solid #eee;
      cursor:pointer;
      transition: all 0.2s;
      user-select: none;
      background: #fff;
    }
    .opcion-tipo.seleccionado{ border-color: #FF6B35; background-color: #fff9f7; }
    .opcion-tipo i{ font-size: 1.25rem; margin-bottom: 8px; color: #777; }
    .opcion-tipo.seleccionado i{ color: #FF6B35; }
    .opcion-tipo span{ font-weight: 900; font-size: 0.9rem; text-align:center; }

    .ayuda-texto{
      font-size: 0.85rem;
      color: #777;
      margin-top: 6px;
      display:flex;
      align-items:center;
      gap: 6px;
      font-weight: 600;
    }

    .carrito-totales{
      background-color: #fff9f7;
      border: 2px solid #ffedd9;
      border-radius: 16px;
      padding: 20px;
    }
    .fila-total{
      display:flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px dashed #ddd;
      font-weight: 700;
    }
    .fila-total:last-child{ border-bottom: none; }
    .total-final{ font-size: 1.4rem; font-weight: 900; color: #3b1f0f; }

    .whatsapp-btn{
      background: linear-gradient(135deg, #25D366, #1DA851);
      color: #fff;
      border: none;
      border-radius: 14px;
      padding: 16px;
      font-size: 1.08rem;
      font-weight: 900;
      cursor: pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      transition: all 0.25s;
      box-shadow: 0 8px 20px rgba(37, 211, 102, 0.30);
      font-family: 'Poppins', sans-serif;
    }
    .whatsapp-btn:hover:not(:disabled){ transform: translateY(-3px); box-shadow: 0 12px 25px rgba(37, 211, 102, 0.40); }
    .whatsapp-btn:disabled{ opacity: 0.6; cursor: not-allowed; transform:none; box-shadow:none; }

    .carrito-vacio{
      text-align:center;
      padding: 44px 16px;
      color:#999;
    }
    .carrito-vacio i{ font-size: 3.2rem; margin-bottom: 14px; opacity: 0.3; }
    .carrito-vacio h3{ font-size: 1.2rem; margin-bottom: 8px; color:#777; }

    .carrito-contenido::-webkit-scrollbar{ width: 8px; }
    .carrito-contenido::-webkit-scrollbar-track{ background: #f1f1f1; border-radius: 10px; }
    .carrito-contenido::-webkit-scrollbar-thumb{ background: #FF6B35; border-radius: 10px; }
    .carrito-contenido::-webkit-scrollbar-thumb:hover{ background: #E55A2B; }
  </style>
</head>

<body>
  <header class="header" role="banner">
    <div class="logo" aria-label="De Todos Caf√©">
      <i class="fas fa-coffee" aria-hidden="true"></i>
      <span>De Todos Caf√©</span>
    </div>
    <p class="subtitle">Men√∫ Digital & Pedidos por WhatsApp</p>
    
    <!-- Barra de B√∫squeda -->
    <div class="busqueda-container">
      <div class="busqueda-wrapper">
        <i class="fas fa-search" aria-hidden="true"></i>
        <input type="text" id="busquedaInput" placeholder="Buscar productos por nombre o descripci√≥n..." 
               aria-label="Buscar productos" autocomplete="off">
        <button id="limpiarBusqueda" class="limpiar-btn" aria-label="Limpiar b√∫squeda" type="button">
          <i class="fas fa-times" aria-hidden="true"></i>
        </button>
      </div>
      <div id="contadorResultados" class="contador-resultados" aria-live="polite"></div>
    </div>
  </header>

  <!-- Men√∫ de categor√≠as lateral (escritorio) -->
  <nav class="menu-categorias" id="menuCategorias" aria-label="Categor√≠as (escritorio)"></nav>

  <!-- Men√∫ de categor√≠as m√≥vil -->
  <div class="menu-categorias-movil" id="menuCategoriasMovil" aria-label="Categor√≠as (m√≥vil)"></div>

  <!-- Bot√≥n para mostrar categor√≠as en m√≥vil -->
  <button class="btn-categorias-movil" id="btnCategoriasMovil" aria-label="Abrir categor√≠as" type="button">
    <i class="fas fa-bars" aria-hidden="true"></i>
  </button>

  <main class="container" role="main">
    <!-- Secci√≥n de resultados de b√∫squeda (oculta inicialmente) -->
    <div class="seccion-resultados" id="seccionResultados">
      <h2 class="titulo-resultados">
        <i class="fas fa-search" aria-hidden="true"></i>
        Resultados de b√∫squeda
      </h2>
      <div class="resultados-grid" id="resultadosGrid"></div>
    </div>
    
    <!-- Contenido de categor√≠as (normal) -->
    <div id="categoriasContenido"></div>
  </main>

  <!-- ===== CARRITO NUEVO (INTEGRADO) ===== -->
  <button class="carrito-flotante-btn" id="abrirCarritoBtn" aria-label="Abrir carrito" type="button">
    <i class="fas fa-shopping-cart" aria-hidden="true"></i>
    <span>Ver Carrito</span>
    <span class="badge" id="carritoBadge">0</span>
  </button>

  <div class="carrito-overlay" id="carritoOverlay" role="dialog" aria-modal="true" aria-label="Carrito">
    <div class="carrito-contenedor" id="carritoModal" tabindex="-1">
      <div class="carrito-cabecera">
        <h2>
          <i class="fas fa-shopping-cart" aria-hidden="true"></i>
          Tu Carrito de Compras
          <span class="badge" id="carritoHeaderBadge">0</span>
        </h2>
        <button class="cerrar-btn" id="cerrarCarritoBtn" aria-label="Cerrar carrito" type="button">
          <i class="fas fa-times" aria-hidden="true"></i>
          Cerrar
        </button>
      </div>

      <div class="carrito-contenido">
        <div class="carrito-seccion">
          <h3><i class="fas fa-clipboard-list" aria-hidden="true"></i> Resumen de tu pedido</h3>

          <div class="carrito-lista" id="carritoLista">
            <div class="carrito-vacio" id="carritoVacioMsg">
              <i class="fas fa-shopping-basket" aria-hidden="true"></i>
              <h3>Tu carrito est√° vac√≠o</h3>
              <p>Agrega productos desde el men√∫ para comenzar tu pedido</p>
            </div>
          </div>
        </div>

        <div class="carrito-seccion">
          <h3><i class="fas fa-user-check" aria-hidden="true"></i> Datos del pedido</h3>

          <div class="datos-pedido">
            <div class="campo-grupo">
              <label><i class="fas fa-truck" aria-hidden="true"></i> Tipo de pedido</label>

              <div class="opciones-tipo">
                <div class="opcion-tipo seleccionado" data-tipo="domicilio" role="button" tabindex="0">
                  <i class="fas fa-home" aria-hidden="true"></i><span>Domicilio</span>
                </div>

                <div class="opcion-tipo" data-tipo="recoger_local" role="button" tabindex="0">
                  <i class="fas fa-store" aria-hidden="true"></i><span>Recoger en el local</span>
                </div>

                <div class="opcion-tipo" data-tipo="consumir_local" role="button" tabindex="0">
                  <i class="fas fa-mug-hot" aria-hidden="true"></i><span>Consumir en el local</span>
                </div>
              </div>

              <div class="ayuda-texto">
                <i class="fas fa-info-circle" aria-hidden="true"></i>
                <span id="plasticoAyudaTexto">Pl√°stico: $1.000 por unidad</span>
              </div>
            </div>

            <div class="campo-grupo" id="direccionGrupo">
              <label><i class="fas fa-map-marker-alt" aria-hidden="true"></i> Direcci√≥n</label>
              <input type="text" id="direccionInput" placeholder="Calle, n√∫mero, barrio, ciudad..." autocomplete="street-address">
              <div class="ayuda-texto">
                <i class="fas fa-exclamation-circle" aria-hidden="true"></i>
                Solo necesario para domicilio
              </div>
            </div>

            <div class="campo-grupo">
              <label><i class="fas fa-user" aria-hidden="true"></i> Nombre para el pedido</label>
              <input type="text" id="nombreInput" placeholder="Ej: Mar√≠a Gonz√°lez" autocomplete="name">
            </div>

            <div class="campo-grupo">
              <label><i class="fas fa-money-bill-wave" aria-hidden="true"></i> Forma de pago</label>
              <select id="pagoSelect">
                <option value="nequi">Nequi</option>
                <option value="efectivo">Efectivo</option>
              </select>
              <div class="ayuda-texto" id="pagoInfo">
                <i class="fas fa-wallet" aria-hidden="true"></i>
                <span>Nequi: 3222096301 - Vigny Valencia</span>
              </div>
            </div>
          </div>
        </div>

        <div class="carrito-seccion carrito-totales">
          <h3><i class="fas fa-receipt" aria-hidden="true"></i> Total a pagar</h3>

          <div class="fila-total">
            <span>Subtotal:</span>
            <span id="subtotalTexto">$0</span>
          </div>

          <div class="fila-total">
            <span>Env√≠o:</span>
            <span id="envioTexto">$0</span>
          </div>

          <div class="fila-total">
            <span>Pl√°stico:</span>
            <span id="plasticoTotalTexto">$0</span>
          </div>

          <div class="fila-total total-final">
            <span>TOTAL:</span>
            <span id="totalTexto">$0</span>
          </div>
        </div>

        <button class="whatsapp-btn" id="whatsappBtn" disabled type="button">
          <i class="fab fa-whatsapp" aria-hidden="true"></i>
          <span>ENVIAR PEDIDO POR WHATSAPP</span>
          <i class="fas fa-paper-plane" aria-hidden="true"></i>
        </button>
      </div>
    </div>
  </div>

  <footer class="footer" role="contentinfo">
    <div class="contenido-footer">
      <p class="contacto">
        <i class="fas fa-phone" aria-hidden="true"></i>
        Pedidos:
        <a href="tel:+573222096301" style="color:white;text-decoration:underline">322 2096301</a>
      </p>
      <p class="dirlocal">
        <i class="fas fa-location-dot" aria-hidden="true"></i>
        <span id="localDireccionFooter">Ubicaci√≥n variable - Consultar al hacer pedido</span>
      </p>
      <p class="horario"><i class="fas fa-clock" aria-hidden="true"></i> Lunes a Domingo: 8:00 AM - 8:00 PM</p>
      <p class="creditos">¬© 2026 De Todos Caf√©. Todos los derechos reservados.</p>
    </div>
  </footer>

  <script>
    // ==================== CONFIGURACI√ìN (MEN√ö + CARRITO) ====================
    const CONFIG = {
      telefonoWhatsApp: "573222096301",
      costoPlasticoPorUnidad: 1000,
      nequiInfo: "3222096301 - Vigny Valencia",
      localDireccion: "üìç Ubicaci√≥n variable - Consultar disponibilidad al hacer pedido"
    };

    // ====== MISMA KEY para integrar con el carrito nuevo ======
    const STORAGE_KEY = "detodos_cafe_carrito_v3";

    // ==================== MEN√ö (tu carta completa) ====================
    const menuData = {
      categorias: [
        {
          id: "limonadas",
          nombre: "Limonadas Granizadas",
          icono: "glass-whiskey",
          productos: [
            { id: 1, nombre: "Mango sal pimienta", precio: 10000, descripcion: "Refrescante limonada de mango con toque de sal y pimienta", stock: 6, rating: 4.5, ventas: 120 },
            { id: 2, nombre: "Mango + hierbabuena", precio: 11000, descripcion: "Combinaci√≥n perfecta de mango con hierbabuena fresca", stock: 8, rating: 4.7, ventas: 95 },
            { id: 3, nombre: "Mango + pi√±a", precio: 11000, descripcion: "Dulzura tropical de mango y pi√±a", stock: 5, rating: 4.4, ventas: 87 },
            { id: 4, nombre: "Mango + maracuy√°", precio: 11000, descripcion: "Mezcla ex√≥tica de mango y maracuy√°", stock: 7, rating: 4.8, ventas: 110 },
            { id: 5, nombre: "Mango + lulo", precio: 12000, descripcion: "Sabor √∫nico de mango con lulo", stock: 4, rating: 4.6, ventas: 76 },
            { id: 6, nombre: "Mango + mandarina", precio: 12000, descripcion: "Fusi√≥n c√≠trica de mango y mandarina", stock: 9, rating: 4.3, ventas: 82 },
            { id: 7, nombre: "Mango + naranja", precio: 12000, descripcion: "Cl√°sico tropical de mango y naranja", stock: 6, rating: 4.5, ventas: 93 },
            { id: 8, nombre: "Mango + mandarina + manzana", precio: 13000, descripcion: "Tres frutas en una sola bebida", stock: 3, rating: 4.9, ventas: 65 },
            { id: 9, nombre: "Mango + pi√±a + maracuy√°", precio: 13000, descripcion: "Explosi√≥n tropical triple", stock: 5, rating: 4.7, ventas: 88 },
            { id: 10, nombre: "Maracuy√°", precio: 10000, descripcion: "Limonada pura de maracuy√°", stock: 10, rating: 4.4, ventas: 102 },
            { id: 11, nombre: "Maracuy√° + hierbabuena", precio: 11000, descripcion: "Maracuy√° con toque de hierbabuena", stock: 7, rating: 4.6, ventas: 79 },
            { id: 12, nombre: "Lulo", precio: 11000, descripcion: "Aut√©ntico sabor a lulo colombiano", stock: 6, rating: 4.8, ventas: 121 },
            { id: 13, nombre: "Lulo + hierbabuena", precio: 12000, descripcion: "Lulo refrescante con hierbabuena", stock: 4, rating: 4.5, ventas: 67 },
            { id: 14, nombre: "Cereza", precio: 11000, descripcion: "Dulce y √°cida limonada de cereza", stock: 8, rating: 4.3, ventas: 54 },
            { id: 15, nombre: "Cereza + hierbabuena", precio: 12000, descripcion: "Cereza con frescura de hierbabuena", stock: 5, rating: 4.4, ventas: 49 },
            { id: 16, nombre: "Fresa + lim√≥n", precio: 11000, descripcion: "Cl√°sico de fresa con lim√≥n", stock: 9, rating: 4.6, ventas: 112 },
            { id: 17, nombre: "Lim√≥n + hierbabuena", precio: 7000, descripcion: "Refrescante lim√≥n con hierbabuena", stock: 15, rating: 4.2, ventas: 145 },
            { id: 18, nombre: "Manzana", precio: 10000, descripcion: "Limonada suave de manzana", stock: 7, rating: 4.1, ventas: 58 },
            { id: 19, nombre: "Manzana + hierbabuena", precio: 11000, descripcion: "Manzana verde con hierbabuena", stock: 6, rating: 4.3, ventas: 47 },
            { id: 20, nombre: "Pi√±a", precio: 10000, descripcion: "Dulce y tropical limonada de pi√±a", stock: 8, rating: 4.5, ventas: 89 },
            { id: 21, nombre: "Pi√±a + hierbabuena", precio: 11000, descripcion: "Pi√±a con frescura de hierbabuena", stock: 4, rating: 4.4, ventas: 72 },
            { id: 22, nombre: "Mora + fresas", precio: 12000, descripcion: "Mezcla de mora y fresa silvestre", stock: 4, rating: 4.7, ventas: 63 },
            { id: 23, nombre: "Mora", precio: 10000, descripcion: "Intenso sabor a mora", stock: 6, rating: 4.6, ventas: 84 },
            { id: 24, nombre: "Uva", precio: 10000, descripcion: "Limonada dulce de uva", stock: 7, rating: 4.3, ventas: 59 },
            { id: 25, nombre: "Naranja", precio: 10000, descripcion: "Cl√°sica limonada de naranja", stock: 10, rating: 4.2, ventas: 97 },
            { id: 26, nombre: "Naranja + hierbabuena", precio: 11000, descripcion: "Naranja con toque de hierbabuena", stock: 8, rating: 4.4, ventas: 76 },
            { id: 27, nombre: "Mandarina", precio: 11000, descripcion: "Limonada c√≠trica de mandarina", stock: 6, rating: 4.5, ventas: 68 },
            { id: 28, nombre: "Coco", precio: 13000, descripcion: "Ex√≥tica limonada de coco tropical", stock: 3, rating: 4.8, ventas: 41 }
          ]
        },
        {
          id: "sodas",
          nombre: "Sodas",
          icono: "glass-cheers",
          productos: [
            { id: 29, nombre: "Lim√≥n + sal", precio: 6000, descripcion: "Soda refrescante de lim√≥n con sal", stock: 12, rating: 4.0, ventas: 134 },
            { id: 30, nombre: "Soda michelada de Mango", precio: 11000, descripcion: "Michelada tropical de mango", stock: 5, rating: 4.7, ventas: 88 },
            { id: 31, nombre: "Frutos amarillos", precio: 11000, descripcion: "Mezcla de frutas amarillas", stock: 6, rating: 4.4, ventas: 72 },
            { id: 32, nombre: "Frutos rojos", precio: 11000, descripcion: "Combinaci√≥n de frutos rojos", stock: 7, rating: 4.6, ventas: 81 },
            { id: 33, nombre: "Cereza hierbabuena", precio: 11000, descripcion: "Soda de cereza con hierbabuena", stock: 4, rating: 4.3, ventas: 57 },
            { id: 34, nombre: "Manzana verde", precio: 11000, descripcion: "Refrescante soda de manzana verde", stock: 8, rating: 4.2, ventas: 63 },
            { id: 35, nombre: "Michelada de ginger", precio: 11000, descripcion: "Michelada con jengibre", stock: 5, rating: 4.8, ventas: 79 }
          ]
        },
        {
          id: "granizados",
          nombre: "Granizados",
          icono: "snowflake",
          productos: [
            { id: 36, nombre: "Milo", precio: 10000, descripcion: "Granizado cl√°sico de Milo", stock: 9, rating: 4.7, ventas: 156 },
            { id: 37, nombre: "Milo nevado", precio: 11000, descripcion: "Milo con crema y toppings", stock: 7, rating: 4.8, ventas: 142 },
            { id: 38, nombre: "Oreo", precio: 11000, descripcion: "Granizado de galleta Oreo", stock: 6, rating: 4.9, ventas: 167 },
            { id: 39, nombre: "Oreo nevado", precio: 12000, descripcion: "Oreo con crema y trozos de galleta", stock: 4, rating: 4.9, ventas: 133 },
            { id: 40, nombre: "Caf√©", precio: 10000, descripcion: "Granizado de caf√© colombiano", stock: 8, rating: 4.6, ventas: 121 },
            { id: 41, nombre: "Caf√© nevado", precio: 11000, descripcion: "Caf√© con crema y sirope", stock: 5, rating: 4.7, ventas: 98 },
            { id: 42, nombre: "Frapuchino", precio: 12000, descripcion: "Mezcla de caf√© y chocolate", stock: 6, rating: 4.8, ventas: 114 },
            { id: 43, nombre: "Frapuchino nevado", precio: 13000, descripcion: "Frapuchino con crema y toppings", stock: 3, rating: 4.9, ventas: 89 },
            { id: 44, nombre: "Frapuchino whisky", precio: 14000, descripcion: "Frapuchino con toque de whisky", stock: 2, rating: 4.7, ventas: 45 }
          ]
        },
        {
          id: "cremosos",
          nombre: "Cremosos",
          icono: "ice-cream",
          productos: [
            { id: 45, nombre: "Cremoso maracuy√°", precio: 11000, descripcion: "Bebida cremosa de maracuy√°", stock: 7, rating: 4.5, ventas: 78 },
            { id: 46, nombre: "Cremoso mora", precio: 11000, descripcion: "Cremoso de mora silvestre", stock: 5, rating: 4.6, ventas: 69 },
            { id: 47, nombre: "Cremoso uva", precio: 11000, descripcion: "Suave y cremoso de uva", stock: 6, rating: 4.4, ventas: 57 },
            { id: 48, nombre: "Cremoso fresa", precio: 11000, descripcion: "Cremoso cl√°sico de fresa", stock: 8, rating: 4.7, ventas: 92 },
            { id: 49, nombre: "Cremoso frutos rojos", precio: 12000, descripcion: "Mezcla cremosa de frutos rojos", stock: 4, rating: 4.8, ventas: 61 }
          ]
        },
        {
          id: "bebidas_calientes",
          nombre: "Bebidas calientes",
          icono: "mug-hot",
          productos: [
            { id: 50, nombre: "Caf√© de la casa", precio: 1500, descripcion: "Caf√© colombiano tradicional", stock: 20, rating: 4.3, ventas: 245 },
            { id: 51, nombre: "Americano", precio: 3000, descripcion: "Caf√© americano fuerte", stock: 15, rating: 4.4, ventas: 187 },
            { id: 52, nombre: "Caf√© en prensa", precio: 6000, descripcion: "Caf√© preparado en prensa francesa", stock: 8, rating: 4.7, ventas: 112 },
            { id: 53, nombre: "Expreso", precio: 3000, descripcion: "Caf√© expreso intenso", stock: 12, rating: 4.5, ventas: 156 },
            { id: 54, nombre: "Carajillo", precio: 5000, descripcion: "Caf√© con aguardiente", stock: 6, rating: 4.8, ventas: 93 },
            { id: 55, nombre: "Perico", precio: 1500, descripcion: "Caf√© con leche colombiano", stock: 18, rating: 4.2, ventas: 201 },
            { id: 56, nombre: "Caf√© con leche", precio: 2000, descripcion: "Caf√© con leche caliente", stock: 16, rating: 4.3, ventas: 178 },
            { id: 57, nombre: "Espumoso", precio: 7000, descripcion: "Caf√© con espuma de leche", stock: 7, rating: 4.6, ventas: 89 },
            { id: 58, nombre: "Caf√© bomb√≥n", precio: 7000, descripcion: "Caf√© con leche condensada", stock: 9, rating: 4.7, ventas: 104 },
            { id: 59, nombre: "Capuchino whisky", precio: 7000, descripcion: "Capuchino con toque de whisky", stock: 5, rating: 4.8, ventas: 76 },
            { id: 60, nombre: "Capuchino oreo", precio: 7000, descripcion: "Capuchino con galleta Oreo", stock: 4, rating: 4.9, ventas: 121 },
            { id: 61, nombre: "Capuchino masmelo", precio: 7000, descripcion: "Capuchino con malvaviscos", stock: 6, rating: 4.7, ventas: 88 },
            { id: 62, nombre: "Milo caliente", precio: 6000, descripcion: "Bebida caliente de Milo", stock: 10, rating: 4.5, ventas: 134 }
          ]
        },
        {
          id: "infusiones",
          nombre: "Infusiones y arom√°ticas",
          icono: "leaf",
          productos: [
            { id: 63, nombre: "Arom√°tica de panela", precio: 2000, descripcion: "Agua de panela con lim√≥n", stock: 15, rating: 4.1, ventas: 167 },
            { id: 64, nombre: "Infusi√≥n de hierbabuena", precio: 1500, descripcion: "T√© de hierbabuena natural", stock: 12, rating: 4.3, ventas: 98 },
            { id: 65, nombre: "Infusi√≥n de flor de Jamaica", precio: 2000, descripcion: "T√© rojo de flor de Jamaica", stock: 8, rating: 4.4, ventas: 76 },
            { id: 66, nombre: "Arom√°tica de frutos rojos", precio: 5000, descripcion: "Infusi√≥n de frutos rojos", stock: 6, rating: 4.6, ventas: 57 },
            { id: 67, nombre: "Arom√°tica de frutas amarilla", precio: 5000, descripcion: "Infusi√≥n de frutas amarillas", stock: 5, rating: 4.5, ventas: 49 }
          ]
        },
        {
          id: "combos",
          nombre: "Combos especiales",
          icono: "gift",
          productos: [
            { id: 68, nombre: "Agua panela + pan + roscas + queso", precio: 10000, descripcion: "Combo completo para compartir", stock: 6, rating: 4.8, ventas: 89 },
            { id: 69, nombre: "Milo + pan + roscas + queso", precio: 11000, descripcion: "Combo dulce con Milo", stock: 4, rating: 4.7, ventas: 72 },
            { id: 70, nombre: "Migao de chocolate", precio: 11000, descripcion: "Migao tradicional de chocolate", stock: 5, rating: 4.9, ventas: 94 },
            { id: 71, nombre: "Migao de milo", precio: 12000, descripcion: "Migao especial de Milo", stock: 3, rating: 4.8, ventas: 61 }
          ]
        }
      ]
    };

    // ==================== UTILIDADES ====================
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));
    const money = (n) => `$${Number(n || 0).toLocaleString("es-CO")}`;

    const renderStars = (rating) => {
      let stars = '';
      const full = Math.floor(rating);
      const half = rating % 1 >= 0.5;
      for (let i = 1; i <= 5; i++) {
        if (i <= full) stars += '<i class="fas fa-star"></i>';
        else if (i === full + 1 && half) stars += '<i class="fas fa-star-half-alt"></i>';
        else stars += '<i class="far fa-star"></i>';
      }
      return stars;
    };

    // ==================== B√öSQUEDA R√ÅPIDA ====================
    class BusquedaRapida {
      constructor() {
        this.busquedaInput = $('#busquedaInput');
        this.limpiarBusquedaBtn = $('#limpiarBusqueda');
        this.contadorResultados = $('#contadorResultados');
        this.seccionResultados = $('#seccionResultados');
        this.resultadosGrid = $('#resultadosGrid');
        this.categoriasContenido = $('#categoriasContenido');
        
        this.init();
      }
      
      init() {
        this.bindEvents();
      }
      
      bindEvents() {
        // Evento de b√∫squeda en tiempo real
        this.busquedaInput.addEventListener('input', (e) => {
          this.realizarBusqueda(e.target.value);
        });
        
        // Bot√≥n limpiar b√∫squeda
        this.limpiarBusquedaBtn.addEventListener('click', () => {
          this.busquedaInput.value = '';
          this.realizarBusqueda('');
          this.busquedaInput.focus();
        });
        
        // Tecla Escape para limpiar b√∫squeda
        this.busquedaInput.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') {
            this.busquedaInput.value = '';
            this.realizarBusqueda('');
          }
        });
      }
      
      realizarBusqueda(termino) {
        const terminoLower = termino.toLowerCase().trim();
        
        // Mostrar/ocultar bot√≥n limpiar
        if (terminoLower.length > 0) {
          this.limpiarBusquedaBtn.classList.add('visible');
        } else {
          this.limpiarBusquedaBtn.classList.remove('visible');
        }
        
        // Si no hay t√©rmino, ocultar resultados y mostrar categor√≠as
        if (terminoLower.length === 0) {
          this.seccionResultados.classList.remove('activa');
          this.categoriasContenido.style.display = 'block';
          this.contadorResultados.textContent = '';
          return;
        }
        
        // Ocultar categor√≠as normales y mostrar resultados
        this.categoriasContenido.style.display = 'none';
        this.seccionResultados.classList.add('activa');
        
        // Filtrar productos
        const resultados = [];
        menuData.categorias.forEach(categoria => {
          categoria.productos.forEach(producto => {
            const enNombre = producto.nombre.toLowerCase().includes(terminoLower);
            const enDescripcion = producto.descripcion.toLowerCase().includes(terminoLower);
            
            if (enNombre || enDescripcion) {
              resultados.push({
                ...producto,
                categoriaNombre: categoria.nombre,
                categoriaIcono: categoria.icono
              });
            }
          });
        });
        
        // Mostrar resultados
        this.mostrarResultados(resultados, terminoLower);
        
        // Actualizar contador
        this.actualizarContador(resultados.length);
      }
      
      mostrarResultados(resultados, termino) {
        if (resultados.length === 0) {
          this.resultadosGrid.innerHTML = `
            <div class="sin-resultados">
              <i class="fas fa-search" aria-hidden="true"></i>
              <h3>No se encontraron productos</h3>
              <p>No hay resultados para "${termino}"</p>
              <p style="margin-top: 1rem; font-size: 0.9rem;">Intenta con otros t√©rminos como: "mango", "caf√©", "oreo", etc.</p>
            </div>
          `;
          return;
        }
        
        let html = '';
        resultados.forEach(p => {
          // SE ELIMINARON LOS BADGES DE STOCK, PROMOCI√ìN Y ENV√çO GRATIS
          const precioOriginal = p.id % 3 === 0 ? Math.round(p.precio * 1.2) : null;
          
          const iconoCategoria = `fa-${p.categoriaIcono}`;
          
          html += `
            <article class="resultado-item" aria-label="${p.nombre}">
              <div class="badge-categoria">${p.categoriaNombre}</div>
              <div class="img-placeholder-temu" aria-hidden="true">
                <i class="fas ${iconoCategoria}"></i>
              </div>
              
              <div class="nombre-producto-temu">${this.resaltarTermino(p.nombre, termino)}</div>
              <div class="descripcion-corta-temu">${this.resaltarTermino(p.descripcion, termino)}</div>
              
              <div class="rating-temu" aria-label="Calificaci√≥n ${p.rating} de 5, ${p.ventas} compras">
                ${renderStars(p.rating)}
                <span>(${p.ventas})</span>
              </div>
              
              <div class="precio-temu">
                ${precioOriginal ? `<span class="precio-original-temu">${money(precioOriginal)}</span>` : ''}
                ${money(p.precio)}
              </div>
              
              <button class="btn-agregar-temu"
                      data-id="${p.id}"
                      data-nombre="${p.nombre.replaceAll('"','&quot;')}"
                      data-precio="${p.precio}"
                      type="button"
                      aria-label="Agregar ${p.nombre}">
                <i class="fas fa-cart-plus" aria-hidden="true"></i> Agregar
              </button>
            </article>
          `;
        });
        
        this.resultadosGrid.innerHTML = html;
      }
      
      resaltarTermino(texto, termino) {
        if (!termino) return texto;
        
        const regex = new RegExp(`(${termino})`, 'gi');
        return texto.replace(regex, '<span style="background-color: #ffeb3b; padding: 0 2px; border-radius: 3px; font-weight: 900;">$1</span>');
      }
      
      actualizarContador(cantidad) {
        if (cantidad === 0) {
          this.contadorResultados.textContent = 'No se encontraron productos';
        } else if (cantidad === 1) {
          this.contadorResultados.textContent = '1 producto encontrado';
        } else {
          this.contadorResultados.textContent = `${cantidad} productos encontrados`;
        }
      }
    }

    // ==================== RENDER MEN√ö (categor√≠as + productos) ====================
    function renderMenus(categoriaActual){
      const menuHTML = menuData.categorias.map(cat => `
        <button class="categoria-btn ${categoriaActual === cat.id ? 'activa' : ''}"
                data-categoria="${cat.id}" type="button">
          <i class="fas fa-${cat.icono}" aria-hidden="true"></i>
          ${cat.nombre}
        </button>
      `).join("");

      $("#menuCategorias").innerHTML = menuHTML;
      $("#menuCategoriasMovil").innerHTML = menuHTML;

      $("#categoriasContenido").innerHTML = menuData.categorias.map(cat => `
        <section class="categoria-contenido ${categoriaActual === cat.id ? 'activa' : ''}"
                 id="categoria-${cat.id}" aria-label="${cat.nombre}">
          <div class="grid-productos">
            ${cat.productos.map(p => {
              // SE ELIMINARON LOS BADGES DE STOCK, PROMOCI√ìN Y ENV√çO GRATIS
              const precioOriginal = p.id % 3 === 0 ? Math.round(p.precio * 1.2) : null;

              const iconoCategoria =
                cat.icono === 'glass-whiskey' ? 'fa-glass-whiskey' :
                cat.icono === 'glass-cheers' ? 'fa-glass-cheers' :
                cat.icono === 'snowflake' ? 'fa-snowflake' :
                cat.icono === 'ice-cream' ? 'fa-ice-cream' :
                cat.icono === 'mug-hot' ? 'fa-mug-hot' :
                cat.icono === 'leaf' ? 'fa-leaf' : 'fa-gift';

              return `
                <article class="producto-temu" aria-label="${p.nombre}">
                  <div class="img-placeholder-temu" aria-hidden="true">
                    <i class="fas ${iconoCategoria}"></i>
                  </div>

                  <div class="nombre-producto-temu">${p.nombre}</div>
                  <div class="descripcion-corta-temu">${p.descripcion}</div>

                  <div class="rating-temu" aria-label="Calificaci√≥n ${p.rating} de 5, ${p.ventas} compras">
                    ${renderStars(p.rating)}
                    <span>(${p.ventas})</span>
                  </div>

                  <div class="precio-temu">
                    ${precioOriginal ? `<span class="precio-original-temu">${money(precioOriginal)}</span>` : ''}
                    ${money(p.precio)}
                  </div>

                  <button class="btn-agregar-temu"
                          data-id="${p.id}"
                          data-nombre="${p.nombre.replaceAll('"','&quot;')}"
                          data-precio="${p.precio}"
                          type="button"
                          aria-label="Agregar ${p.nombre}">
                    <i class="fas fa-cart-plus" aria-hidden="true"></i> Agregar
                  </button>
                </article>
              `;
            }).join("")}
          </div>
        </section>
      `).join("");
    }

    // ==================== CARRITO NUEVO (CLASE) ====================
    class Carrito {
      constructor() {
        this.items = new Map();
        this.tipoPedido = "domicilio";
        this.subtotal = 0;
        this.envio = 0;      // ‚úÖ SIEMPRE GRATIS
        this.plastico = 0;   // ‚úÖ SOLO DOMICILIO y RECOGER
        this.total = 0;
        this.totalItems = 0;

        this.init();
      }

      init() {
        this.cacheElements();
        this.bindEvents();
        this.cargarEstado();
        this.actualizarInfoPago();
        this.actualizarUI();
      }

      cacheElements() {
        this.abrirCarritoBtn = $("#abrirCarritoBtn");
        this.cerrarCarritoBtn = $("#cerrarCarritoBtn");
        this.whatsappBtn = $("#whatsappBtn");
        this.carritoOverlay = $("#carritoOverlay");
        this.carritoModal = $("#carritoModal");

        this.carritoBadge = $("#carritoBadge");
        this.carritoHeaderBadge = $("#carritoHeaderBadge");

        this.carritoLista = $("#carritoLista");
        this.carritoVacioMsg = $("#carritoVacioMsg");

        this.opcionesTipo = $$(".opcion-tipo");
        this.direccionGrupo = $("#direccionGrupo");
        this.direccionInput = $("#direccionInput");
        this.nombreInput = $("#nombreInput");
        this.pagoSelect = $("#pagoSelect");
        this.pagoInfo = $("#pagoInfo");

        this.plasticoAyudaTexto = $("#plasticoAyudaTexto");
        this.subtotalTexto = $("#subtotalTexto");
        this.envioTexto = $("#envioTexto");
        this.plasticoTotalTexto = $("#plasticoTotalTexto");
        this.totalTexto = $("#totalTexto");
      }

      bindEvents() {
        this.abrirCarritoBtn.addEventListener("click", () => this.abrirCarrito());
        this.cerrarCarritoBtn.addEventListener("click", () => this.cerrarCarrito());

        this.carritoOverlay.addEventListener("click", (e) => {
          if (e.target === this.carritoOverlay) this.cerrarCarrito();
        });

        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape") this.cerrarCarrito();
        });

        this.whatsappBtn.addEventListener("click", () => this.enviarPorWhatsApp());

        // click + teclado en tipo de pedido
        this.opcionesTipo.forEach(opcion => {
          const handler = () => this.cambiarTipoPedido(opcion.dataset.tipo);
          opcion.addEventListener("click", handler);
          opcion.addEventListener("keydown", (e) => {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              handler();
            }
          });
        });

        this.direccionInput.addEventListener("input", () => this.actualizarUI(false));
        this.nombreInput.addEventListener("input", () => this.actualizarUI(false));
        this.pagoSelect.addEventListener("change", () => {
          this.actualizarInfoPago();
          this.actualizarUI(false);
        });

        // Delegaci√≥n de eventos (+ / - / eliminar)
        this.carritoLista.addEventListener("click", (e) => {
          const btn = e.target.closest("[data-action]");
          if (!btn) return;

          const action = btn.dataset.action;
          const id = parseInt(btn.dataset.id, 10);
          if (Number.isNaN(id)) return;

          if (action === "incrementar") this.cambiarCantidad(id, 1);
          if (action === "decrementar") this.cambiarCantidad(id, -1);
          if (action === "eliminar") this.eliminarProducto(id);
        });
      }

      guardarEstado() {
        const data = {
          tipoPedido: this.tipoPedido,
          items: Array.from(this.items.values()),
          nombre: this.nombreInput?.value ?? "",
          direccion: this.direccionInput?.value ?? "",
          pago: this.pagoSelect?.value ?? "nequi"
        };
        try { localStorage.setItem(STORAGE_KEY, JSON.stringify(data)); } catch (_) {}
      }

      cargarEstado() {
        try {
          const raw = localStorage.getItem(STORAGE_KEY);
          if (!raw) return;
          const data = JSON.parse(raw);

          if (Array.isArray(data.items)) {
            data.items.forEach(it => {
              if (!it || typeof it.id !== "number") return;
              this.items.set(it.id, {
                id: it.id,
                nombre: String(it.nombre ?? ""),
                precio: Number(it.precio ?? 0),
                cantidad: Number(it.cantidad ?? 1)
              });
            });
          }

          if (data.tipoPedido) this.tipoPedido = data.tipoPedido;

          // Prefill inputs
          setTimeout(() => {
            this.nombreInput.value = data.nombre ?? "";
            this.direccionInput.value = data.direccion ?? "";
            this.pagoSelect.value = data.pago ?? "nequi";
            this.cambiarTipoPedido(this.tipoPedido);
            this.actualizarInfoPago();
            this.actualizarUI();
          }, 0);
        } catch (_) {}
      }

      agregarProducto(id, nombre, precio, cantidad = 1, silencioso = false) {
        id = Number(id);
        if (!Number.isFinite(id)) return;

        if (this.items.has(id)) {
          const item = this.items.get(id);
          item.cantidad += cantidad;
          this.items.set(id, item);
        } else {
          this.items.set(id, { id, nombre, precio: Number(precio || 0), cantidad });
        }

        this.actualizarUI();
        this.guardarEstado();
        if (!silencioso) this.mostrarNotificacion(`‚úÖ ${nombre} agregado al carrito`);
      }

      cambiarCantidad(id, delta) {
        if (!this.items.has(id)) return;

        const item = this.items.get(id);
        item.cantidad += delta;

        if (item.cantidad <= 0) {
          this.items.delete(id);
          this.mostrarNotificacion(`üóëÔ∏è ${item.nombre} eliminado`);
        } else {
          this.items.set(id, item);
        }

        this.actualizarUI();
        this.guardarEstado();
      }

      eliminarProducto(id) {
        if (!this.items.has(id)) return;

        const producto = this.items.get(id);
        this.items.delete(id);

        this.actualizarUI();
        this.guardarEstado();
        this.mostrarNotificacion(`üóëÔ∏è ${producto.nombre} eliminado`);
      }

      calcularTotales() {
        this.subtotal = 0;
        this.totalItems = 0;

        this.items.forEach(item => {
          this.subtotal += item.precio * item.cantidad;
          this.totalItems += item.cantidad;
        });

        // ‚úÖ Env√≠o siempre gratis
        this.envio = 0;

        // ‚úÖ Pl√°stico SOLO cuando es DOMICILIO o RECOGER
        if (this.tipoPedido === "domicilio" || this.tipoPedido === "recoger_local") {
          this.plastico = this.totalItems * CONFIG.costoPlasticoPorUnidad;
        } else {
          this.plastico = 0;
        }

        this.total = this.subtotal + this.envio + this.plastico;
      }

      actualizarUI(renderLista = true) {
        this.calcularTotales();

        this.carritoBadge.textContent = String(this.totalItems);
        this.carritoHeaderBadge.textContent = String(this.totalItems);

        this.subtotalTexto.textContent = this.formatearPrecio(this.subtotal);
        this.envioTexto.textContent = this.formatearPrecio(this.envio);
        this.plasticoTotalTexto.textContent = this.formatearPrecio(this.plastico);
        this.totalTexto.textContent = this.formatearPrecio(this.total);

        // Texto ayuda pl√°stico
        if (this.tipoPedido === "domicilio" || this.tipoPedido === "recoger_local") {
          this.plasticoAyudaTexto.textContent = `Pl√°stico: ${this.formatearPrecio(CONFIG.costoPlasticoPorUnidad)} por unidad`;
        } else {
          this.plasticoAyudaTexto.textContent = "Pl√°stico: No aplica";
        }

        if (renderLista) this.renderizarLista();
        this.carritoVacioMsg.style.display = (this.totalItems === 0) ? "block" : "none";

        this.whatsappBtn.disabled = !this.pedidoListo();
        this.guardarEstado();
      }

      pedidoListo() {
        if (this.totalItems === 0) return false;

        const nombre = (this.nombreInput.value || "").trim();
        if (!nombre) return false;

        // Direcci√≥n s√≥lo para domicilio
        if (this.tipoPedido === "domicilio") {
          const direccion = (this.direccionInput.value || "").trim();
          if (!direccion) return false;
        }
        return true;
      }

      renderizarLista() {
        if (this.items.size === 0) {
          this.carritoLista.innerHTML = "";
          this.carritoLista.appendChild(this.carritoVacioMsg);
          return;
        }

        let html = "";
        this.items.forEach(item => {
          const totalItem = item.precio * item.cantidad;

          html += `
            <div class="carrito-item" data-id="${item.id}">
              <div class="item-info">
                <div class="item-nombre">${this.escapeHTML(item.nombre)}</div>
                <div class="item-precio-unitario">${this.formatearPrecio(item.precio)} c/u</div>

                <div class="item-cantidad">
                  <button class="cantidad-btn" aria-label="Disminuir" data-action="decrementar" data-id="${item.id}" type="button">-</button>
                  <span class="cantidad-numero">${item.cantidad}</span>
                  <button class="cantidad-btn" aria-label="Aumentar" data-action="incrementar" data-id="${item.id}" type="button">+</button>
                </div>

                <button class="item-eliminar" aria-label="Eliminar" data-action="eliminar" data-id="${item.id}" type="button">
                  <i class="fas fa-trash" aria-hidden="true"></i> Eliminar
                </button>
              </div>

              <div class="item-total">${this.formatearPrecio(totalItem)}</div>
            </div>
          `;
        });

        this.carritoLista.innerHTML = html;
      }

      cambiarTipoPedido(tipo) {
        this.tipoPedido = tipo;

        this.opcionesTipo.forEach(opcion => {
          opcion.classList.toggle("seleccionado", opcion.dataset.tipo === tipo);
        });

        if (tipo === "domicilio") {
          this.direccionGrupo.style.display = "flex";
        } else {
          this.direccionGrupo.style.display = "none";
          this.direccionInput.value = "";
        }

        this.actualizarUI(false);
        this.guardarEstado();
      }

      actualizarInfoPago() {
        const metodo = this.pagoSelect.value;
        if (metodo === "nequi") {
          this.pagoInfo.innerHTML = `<i class="fas fa-wallet" aria-hidden="true"></i><span>Nequi: ${CONFIG.nequiInfo}</span>`;
        } else {
          this.pagoInfo.innerHTML = `<i class="fas fa-wallet" aria-hidden="true"></i><span>Pago en efectivo (al recibir)</span>`;
        }
      }

      abrirCarrito() {
        this.carritoOverlay.classList.add("activo");
        document.body.style.overflow = "hidden";
        setTimeout(() => this.carritoModal.focus(), 0);
      }

      cerrarCarrito() {
        this.carritoOverlay.classList.remove("activo");
        document.body.style.overflow = "auto";
      }

      enviarPorWhatsApp() {
        if (!this.pedidoListo()) {
          this.mostrarNotificacion("‚ö†Ô∏è Completa nombre y (si es domicilio) direcci√≥n.");
          return;
        }

        const nombre = this.nombreInput.value.trim();
        const direccion = this.direccionInput.value.trim();
        const metodoPago = this.pagoSelect.value;

        const mensaje = this.construirMensajeWhatsApp(nombre, direccion, metodoPago);
        const url = `https://wa.me/${CONFIG.telefonoWhatsApp}?text=${encodeURIComponent(mensaje)}`;

        const win = window.open(url, "_blank");
        if (!win) {
          this.mostrarNotificacion("‚ö†Ô∏è Si no se abre WhatsApp, toca el bot√≥n nuevamente.");
          return;
        }

        setTimeout(() => {
          this.cerrarCarrito();
          this.mostrarNotificacion("üì§ Pedido enviado por WhatsApp");
        }, 500);
      }

      construirMensajeWhatsApp(nombre, direccion, metodoPago) {
        const tipoTexto = {
          domicilio: "Domicilio",
          recoger_local: "Recoger en el local",
          consumir_local: "Consumir en el local"
        }[this.tipoPedido];

        const pagoTexto = {
          nequi: `Nequi (${CONFIG.nequiInfo})`,
          efectivo: "Efectivo"
        }[metodoPago];

        let mensaje = `¬°Hola! Quisiera hacer un pedido en *De Todos Caf√©* ‚òïÔ∏è\n\n`;
        mensaje += `üßæ *DATOS DEL PEDIDO*\n`;
        mensaje += `‚Ä¢ Tipo: *${tipoTexto}*\n`;
        mensaje += `‚Ä¢ Forma de pago: *${pagoTexto}*\n`;
        mensaje += `‚Ä¢ Nombre: *${nombre}*\n`;

        if (this.tipoPedido === "domicilio") {
          mensaje += `‚Ä¢ Direcci√≥n: *${direccion}*\n`;
        }

        mensaje += `‚Ä¢ ${CONFIG.localDireccion}\n`;
        mensaje += `\nüìã *MI PEDIDO*\n`;

        let i = 1;
        this.items.forEach(item => {
          const totalItem = item.precio * item.cantidad;
          mensaje += `${i}. ${item.nombre}\n`;
          mensaje += `   Cantidad: ${item.cantidad}\n`;
          mensaje += `   Unitario: ${this.formatearPrecio(item.precio)}\n`;
          mensaje += `   Subtotal: ${this.formatearPrecio(totalItem)}\n\n`;
          i++;
        });

        mensaje += `‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî\n`;
        mensaje += `üí∞ Subtotal: ${this.formatearPrecio(this.subtotal)}\n`;
        mensaje += `üöö Env√≠o: ${this.formatearPrecio(this.envio)} (Gratis)\n`;
        mensaje += `üß¥ Pl√°stico (${this.totalItems} unidad${this.totalItems !== 1 ? 'es' : ''}): ${this.formatearPrecio(this.plastico)}\n`;
        mensaje += `‚úÖ Total a pagar: *${this.formatearPrecio(this.total)}*\n`;
        mensaje += `‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî\n\n`;
        mensaje += `¬øMe confirmas disponibilidad y hora aproximada? ¬°Gracias! üôå`;

        return mensaje;
      }

      formatearPrecio(precio) {
        return `$${Number(precio || 0).toLocaleString('es-CO')}`;
      }

      escapeHTML(str) {
        return String(str)
          .replaceAll("&", "&amp;")
          .replaceAll("<", "&lt;")
          .replaceAll(">", "&gt;")
          .replaceAll('"', "&quot;")
          .replaceAll("'", "&#039;");
      }

      mostrarNotificacion(texto) {
        const n = document.createElement("div");
        n.style.cssText = `
          position: fixed;
          top: 20px; right: 20px;
          background: linear-gradient(135deg, #FF6B35, #FF9500);
          color: white;
          padding: 14px 18px;
          border-radius: 12px;
          box-shadow: 0 8px 20px rgba(0,0,0,0.2);
          z-index: 10000;
          font-weight: 800;
          max-width: 360px;
          display: flex;
          align-items: center;
          gap: 10px;
          animation: slideInToast 0.25s ease;
        `;
        n.innerHTML = `<i class="fas fa-check-circle" aria-hidden="true"></i> ${this.escapeHTML(texto)}`;
        document.body.appendChild(n);

        setTimeout(() => {
          n.style.opacity = "0";
          n.style.transition = "opacity 0.45s ease";
          setTimeout(() => n.remove(), 450);
        }, 2200);
      }
    }

    // ==================== INTERACCI√ìN MEN√ö ====================
    function cambiarCategoria(categoriaId){
      $$(".categoria-btn").forEach(btn => {
        btn.classList.toggle("activa", btn.dataset.categoria === categoriaId);
      });
      $$(".categoria-contenido").forEach(sec => {
        sec.classList.toggle("activa", sec.id === `categoria-${categoriaId}`);
      });
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function initMenu(){
      const categoriaInicial = (menuData.categorias[0] && menuData.categorias[0].id) || "limonadas";
      renderMenus(categoriaInicial);

      // footer direcci√≥n
      $("#localDireccionFooter").textContent = CONFIG.localDireccion;

      // click categor√≠as desktop + m√≥vil
      const onCategoriaClick = (e) => {
        const btn = e.target.closest(".categoria-btn");
        if (!btn) return;
        cambiarCategoria(btn.dataset.categoria);
      };
      $("#menuCategorias").addEventListener("click", onCategoriaClick);
      $("#menuCategoriasMovil").addEventListener("click", (e) => {
        onCategoriaClick(e);
        cerrarMenuMovil();
      });

      // men√∫ m√≥vil
      $("#btnCategoriasMovil").addEventListener("click", toggleMenuMovil);
      document.addEventListener("click", (e) => {
        const menu = $("#menuCategoriasMovil");
        const btn = $("#btnCategoriasMovil");
        if (menu.classList.contains("abierto") && !menu.contains(e.target) && !btn.contains(e.target)) {
          cerrarMenuMovil();
        }
      });
    }

    function toggleMenuMovil(){
      const menu = $("#menuCategoriasMovil");
      menu.classList.toggle("abierto");
    }
    function cerrarMenuMovil(){
      $("#menuCategoriasMovil").classList.remove("abierto");
    }

    // ==================== FUNCI√ìN PARA AGREGAR PRODUCTOS ====================
    function setupEventosAgregar() {
      // Evento delegado para todos los botones "Agregar"
      document.addEventListener('click', function(e) {
        const btnAgregar = e.target.closest('.btn-agregar-temu');
        if (btnAgregar) {
          const id = Number(btnAgregar.dataset.id);
          const nombre = btnAgregar.dataset.nombre || "Producto";
          const precio = Number(btnAgregar.dataset.precio || 0);

          window.carrito.agregarProducto(id, nombre, precio, 1);

          // feedback visual
          const old = btnAgregar.innerHTML;
          btnAgregar.innerHTML = '<i class="fas fa-check" aria-hidden="true"></i> A√±adido';
          btnAgregar.style.background = 'linear-gradient(to right, #34c759, #2ecc71)';
          setTimeout(() => {
            btnAgregar.innerHTML = old;
            btnAgregar.style.background = 'linear-gradient(to right, var(--rojo-temu), var(--naranja-temu))';
          }, 850);
        }
      });
    }

    // ==================== INIT (MEN√ö + B√öSQUEDA + CARRITO) ====================
    document.addEventListener("DOMContentLoaded", () => {
      // 1) Iniciar men√∫
      initMenu();

      // 2) Iniciar b√∫squeda r√°pida
      window.busqueda = new BusquedaRapida();

      // 3) Iniciar carrito NUEVO
      window.carrito = new Carrito();

      // 4) Configurar eventos para agregar productos (funciona tanto para productos normales como de b√∫squeda)
      setupEventosAgregar();
    });
  </script>
</body>
</html>